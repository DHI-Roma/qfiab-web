"use strict";(self["webpackChunkqfiab"]=self["webpackChunkqfiab"]||[]).push([[268],{268:(e,t,l)=>{l.r(t),l.d(t,{default:()=>sl});var r=l(3673);const i={class:"q-pa-md col-12 col-md-3"},s={class:"q-pa-md col-12 col-md-9"},o={class:"col-xs-12 col-md-4"},a={class:"col-xs-12 col-md-4"},n={class:"col-xs-12 col-md-4"},d={class:"q-mt-sm col-12"};function c(e,t,l,c,u,y){const v=(0,r.up)("qfiab-filters"),f=(0,r.up)("q-select"),p=(0,r.up)("q-checkbox"),w=(0,r.up)("qfiab-index-card"),g=(0,r.up)("qfiab-proceeding-card"),h=(0,r.up)("qfiab-obituary-card"),b=(0,r.up)("q-table"),m=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(m,{class:"row justify-evenly",padding:""},{default:(0,r.w5)((()=>[(0,r._)("div",i,[(0,r.Wm)(v)]),(0,r._)("div",s,[(0,r.Wm)(b,{grid:"",title:"QFIAB Register",rows:e.filteredRows,columns:e.qfiabIndexColumns},{header:(0,r.w5)((()=>[])),top:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r.Wm)(f,{modelValue:e.$i18n.locale,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$i18n.locale=t),options:["de","it"],label:e.$t("qfiab.menu.selectedLanguage"),"option-label":e=>"de"===e?"Deutsch":"Italiano"},null,8,["modelValue","label","option-label"])]),(0,r._)("div",a,[(0,r.Wm)(f,{modelValue:e.selectedSortBy,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedSortBy=t),class:"q-mx-md q-mx-xs-none",options:e.availableSortBy,label:e.$t("qfiab.sort.sortBy"),"option-label":t=>"century"===t?e.$t("qfiab.fields.century"):e.$t("qfiab.fields.publicationDate")},null,8,["modelValue","options","label","option-label"])]),(0,r._)("div",n,[(0,r.Wm)(p,{modelValue:e.sortAscending,"onUpdate:modelValue":t[2]||(t[2]=t=>e.sortAscending=t),class:"q-mx-md q-mx-xs-none",label:e.$t("qfiab.sort.sortAscending")},null,8,["modelValue","label"])])])),item:(0,r.w5)((t=>[(0,r._)("div",d,[e.qfiabEntries.length&&"index"===t.row.type?((0,r.wg)(),(0,r.j4)(w,{key:0,"index-entry":t.row},null,8,["index-entry"])):e.qfiabEntries.length&&"proceeding"===t.row.type?((0,r.wg)(),(0,r.j4)(g,{key:1,"proceeding-entry":t.row},null,8,["proceeding-entry"])):e.qfiabEntries.length&&"obituary"===t.row.type?((0,r.wg)(),(0,r.j4)(h,{key:2,"obituary-entry":t.row},null,8,["obituary-entry"])):(0,r.kq)("",!0)])])),_:1},8,["rows","columns"])])])),_:1})}var u=l(1959),y=l(52),v=l.n(y),f=function(e,t,l,r){function i(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,s){function o(e){try{n(r.next(e))}catch(t){s(t)}}function a(e){try{n(r["throw"](e))}catch(t){s(t)}}function n(e){e.done?l(e.value):i(e.value).then(o,a)}n((r=r.apply(e,t||[])).next())}))};const p=(0,u.iH)([]),w=(0,u.iH)([]),g=(0,u.iH)([]);function h(){const e=()=>f(this,void 0,void 0,(function*(){const e=yield v().get("data/qfiab_register.json");return e.data})),t=e=>{const t=e.map((e=>e.authors)),l=[].concat(...t),r=[...new Set(l)];return r.sort()},l=e=>{const t=[];e.forEach((e=>{"index"===e.type&&e.sourceDetails.map((e=>{var l;null===(l=e.archivalDetails)||void 0===l||l.archives.forEach((e=>{t.push(e.name)}))}))}));const l=[...new Set(t)];return l.sort()},r=(e,t)=>{const l=t.map((t=>{const l=(null===t||void 0===t?void 0:t.keywords)||[];return l.filter((t=>t.language===e)).map((e=>e.name))})),r=[].concat(...l),i=[...new Set(r)];return i.sort()},i=e=>{const t=[];return e.forEach((e=>{void 0===e.centuryRange||t.includes(e.centuryRange.start)||t.push(e.centuryRange.start),void 0===e.centuryRange||t.includes(e.centuryRange.end)||t.push(e.centuryRange.end)})),t.sort(((e,t)=>e-t))};return{qfiabEntries:p,authors:w,availableArchives:g,fetchQfiabEntries:e,getAuthors:t,getKeywords:r,getCenturies:i,getArchives:l}}var b=l(2323),m=l(8880);const x={class:"row items-center justify-between"},E={class:"text-overline text-weight-light"},_={class:"row"},q={class:"text-overline text-grey text-uppercase"},T={class:"text-subtitle1"},A={class:"row"},S={class:"col-4"},D={class:"text-overline text-grey text-uppercase"},C={class:"col-4"},K={class:"text-overline text-grey text-uppercase"},I={class:"col-4"},k={class:"text-overline text-grey text-uppercase"},z={class:"row q-mt-sm"},$={class:"q-gutter-sm"},Q={key:0,class:"row"},R={class:"col-12"},B={class:"text-overline text-grey text-uppercase"},H=["href"],V={class:"text-overline text-grey text-uppercase"},Z={class:"row"},L={class:"col-12"},P={class:"text-overline text-grey text-uppercase text-weight-light"},F={key:0,class:"row"},U={key:0,class:"col-4"},Y={class:"text-overline text-grey text-uppercase text-weight-light"},O={key:1,class:"col-4"},W={class:"text-overline text-grey text-uppercase text-weight-light"},j={key:2,class:"col-4"},N={class:"text-overline text-grey text-uppercase text-weight-light"};function M(e,t,l,i,s,o){const a=(0,r.up)("country-flag"),n=(0,r.up)("q-btn"),d=(0,r.up)("q-card-section"),c=(0,r.up)("q-card-actions"),u=(0,r.up)("q-separator"),y=(0,r.up)("q-chip"),v=(0,r.up)("q-slide-transition"),f=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(f,{flat:"",bordered:""},{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r._)("div",x,[(0,r._)("div",E,(0,b.zw)(e.$t("qfiab.fields.volume"))+" "+(0,b.zw)(e.indexEntry.volume.number)+" ("+(0,b.zw)(e.indexEntry.volume.year)+"), "+(0,b.zw)(e.indexEntry.pageRange.start)+"-"+(0,b.zw)(e.indexEntry.pageRange.end),1),(0,r._)("div",null,[(0,r.Wm)(a,{country:e.language,size:"normal",rounded:!0},null,8,["country"])])]),(0,r._)("div",_,[(0,r._)("div",null,[(0,r._)("div",q,(0,b.zw)(e.$t("qfiab.fields.title")),1),(0,r._)("div",T,(0,b.zw)(e.indexEntry.title),1)])]),(0,r._)("div",A,[(0,r._)("div",S,[(0,r._)("div",D,(0,b.zw)(e.$tc("qfiab.fields.author",e.indexEntry.authors.length)),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.indexEntry.authors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,b.zw)(e),1)))),128))])]),(0,r._)("div",C,[(0,r._)("div",K,(0,b.zw)(e.$t("qfiab.fields.typology")),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.indexEntry.typologies,((t,l)=>((0,r.wg)(),(0,r.iD)("div",{key:l},(0,b.zw)(e.$t(`qfiab.typology.${t}`)),1)))),128))])]),(0,r._)("div",I,[(0,r._)("div",k,(0,b.zw)(e.$t("qfiab.fields.period")),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.indexEntry.periods,((t,l)=>((0,r.wg)(),(0,r.iD)("div",{key:l},(0,b.zw)(e.$t(`qfiab.period.${t}`)),1)))),128)),(0,r._)("div",null,(0,b.zw)(e.century),1)])])]),(0,r._)("div",z,[(0,r._)("div",$,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.indexEntry.keywords,((t,l)=>((0,r.wg)(),(0,r.j4)(n,{key:l,class:"q-px-sm",rounded:"",dense:"","no-caps":"",color:"grey-2","text-color":"grey-7",label:t.name,size:"0.75rem",onClick:l=>e.addKeyword(t)},null,8,["label","onClick"])))),128))])]),e.indexEntry.fullTextUrl.length?((0,r.wg)(),(0,r.iD)("div",Q,[(0,r._)("div",R,[(0,r._)("div",B,(0,b.zw)(e.$t("qfiab.fields.fullText")),1),(0,r._)("div",null,[(0,r._)("a",{href:e.indexEntry.fullTextUrl,target:"_blank"},(0,b.zw)(e.indexEntry.fullTextUrl),9,H)])])])):(0,r.kq)("",!0)])),_:1}),e.indexEntry.sourceDetails.length?((0,r.wg)(),(0,r.j4)(c,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{color:"grey",round:"",flat:"",dense:"",icon:e.isExpanded?"keyboard_arrow_up":"keyboard_arrow_down",onClick:t[0]||(t[0]=t=>e.isExpanded=!e.isExpanded)},null,8,["icon"]),(0,r._)("div",V,(0,b.zw)(e.$t("qfiab.fields.editedSources")),1)])),_:1})):(0,r.kq)("",!0),e.indexEntry.sourceDetails.length?((0,r.wg)(),(0,r.j4)(v,{key:1},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",null,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.indexEntry.sourceDetails,((t,l)=>((0,r.wg)(),(0,r.iD)("div",{key:l},[(0,r.Wm)(u),(0,r._)("div",Z,[(0,r._)("div",L,[(0,r._)("div",P,(0,b.zw)(e.$t("qfiab.fields.source")),1),(0,r.Uk)(" "+(0,b.zw)(t.source),1)])]),t.archivalDetails?((0,r.wg)(),(0,r.iD)("div",F,[t.archivalDetails.signatures.length?((0,r.wg)(),(0,r.iD)("div",U,[(0,r._)("div",Y,(0,b.zw)(e.$t("qfiab.fields.signature")),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.archivalDetails.signatures,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,b.zw)(e),1)))),128))])):(0,r.kq)("",!0),t.archivalDetails.archives.length?((0,r.wg)(),(0,r.iD)("div",O,[(0,r._)("div",W,(0,b.zw)(e.$t("qfiab.fields.archive")),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.archivalDetails.archives,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,b.zw)(e.name),1)))),128))])):(0,r.kq)("",!0),t.time?((0,r.wg)(),(0,r.iD)("div",j,[(0,r._)("div",N,(0,b.zw)(e.$t("qfiab.fields.time")),1),(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(t.time),1)])),_:2},1024)])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])))),128))])),_:1})],512),[[m.F8,e.isExpanded]])])),_:1})):(0,r.kq)("",!0)])),_:1})}var G=l(151),J=l(9367),X=l(5589),ee=l(7163);const te=(0,u.iH)([]),le=(0,u.iH)([]),re=(0,u.iH)([]),ie=(0,u.iH)([]),se=(0,u.iH)([]),oe=(0,u.iH)([]);function ae(){const e=(e,t)=>t.filter((t=>void 0!==t.keywords&&t.keywords.some((t=>e.includes(t.name))))),t=(e,t)=>{t((()=>{const t=e.toLocaleLowerCase();se.value=re.value.filter((e=>e.toLocaleLowerCase().indexOf(t)>-1))}))},l=(e,t)=>{t((()=>{const t=e.toLocaleLowerCase();oe.value=ie.value.filter((e=>e.toLocaleLowerCase().indexOf(t)>-1))}))},r=e=>{"de"!==e.language||te.value.includes(e.name)?"it"!==e.language||le.value.includes(e.name)||le.value.push(e.name):te.value.push(e.name)};return{selectedKeywordsDE:te,selectedKeywordsIT:le,availableKeywordsDE:re,availableKeywordsIT:ie,filteredKeywordsDE:se,filteredKeywordsIT:oe,filterByKeyword:e,filterKeywordSelectDE:t,filterKeywordSelectIT:l,addKeyword:r}}const ne=(0,r.aZ)({name:"QfiabIndexCard",components:{QCard:G.Z,QCardSection:X.Z,QCardActions:J.Z,CountryFlag:ee["default"]},props:{indexEntry:{type:Object,required:!0}},setup(){const e=(0,u.iH)(!1),{selectedKeywordsDE:t,selectedKeywordsIT:l,addKeyword:r}=ae();return{isExpanded:e,selectedKeywordsDE:t,selectedKeywordsIT:l,addKeyword:r}},computed:{century(){var e;if(void 0===this.indexEntry.centuryRange)return"";let t=(null===(e=this.indexEntry)||void 0===e?void 0:e.centuryRange.start.toString())+".";return this.indexEntry.centuryRange.start!==this.indexEntry.centuryRange.end&&(t+=`-${this.indexEntry.centuryRange.end}.`),t+=" "+this.$t("qfiab.fields.century"),t},language(){switch(this.indexEntry.language){case"ger":return"de";case"fra":return"fr";case"ita":return"it";case"eng":return"gb";default:return this.indexEntry.language}}}});var de=l(4260),ce=l(8240),ue=l(2471),ye=l(5869),ve=l(7030),fe=l(7518),pe=l.n(fe);const we=(0,de.Z)(ne,[["render",M]]),ge=we;pe()(ne,"components",{QCard:G.Z,QCardSection:X.Z,QBtn:ce.Z,QCardActions:J.Z,QSlideTransition:ue.Z,QSeparator:ye.Z,QChip:ve.Z});const he={class:"row items-center justify-between"},be={class:"text-overline text-weight-light"},me={class:"row"},xe={class:"text-overline text-grey text-uppercase"},Ee={class:"text-subtitle1"},_e={class:"row"},qe={class:"col-8"},Te={class:"text-overline text-grey text-uppercase"},Ae={key:0},Se={class:"col-4"},De={class:"text-overline text-grey text-uppercase"},Ce={class:"row"},Ke={class:"col-4"},Ie={class:"text-overline text-grey text-uppercase"},ke={class:"col-4"},ze={class:"text-overline text-grey text-uppercase"},$e={class:"col-4"},Qe={class:"text-overline text-grey text-uppercase"},Re={class:"row"};function Be(e,t,l,i,s,o){const a=(0,r.up)("q-chip"),n=(0,r.up)("q-card-section"),d=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(d,{flat:"",bordered:""},{default:(0,r.w5)((()=>[(0,r.Wm)(n,null,{default:(0,r.w5)((()=>{var t;return[(0,r._)("div",he,[(0,r._)("div",be,(0,b.zw)(e.$t("qfiab.fields.volume"))+" "+(0,b.zw)(e.proceedingEntry.volume.number)+" ("+(0,b.zw)(e.proceedingEntry.volume.year)+"), S. "+(0,b.zw)(e.proceedingEntry.pageRange.start)+"-"+(0,b.zw)(e.proceedingEntry.pageRange.end),1)]),(0,r._)("div",me,[(0,r._)("div",null,[(0,r._)("div",xe,(0,b.zw)(e.$t("qfiab.fields.title")),1),(0,r._)("div",Ee,(0,b.zw)(e.proceedingEntry.title),1)])]),(0,r._)("div",_e,[(0,r._)("div",qe,[(0,r._)("div",Te,(0,b.zw)(e.$t("qfiab.fields.conference")),1),(null===(t=e.proceedingEntry.conference.title)||void 0===t?void 0:t.length)?((0,r.wg)(),(0,r.iD)("div",Ae,(0,b.zw)(e.proceedingEntry.conference.title),1)):(0,r.kq)("",!0),(0,r._)("div",null," in "+(0,b.zw)(e.proceedingEntry.conference.location)+" ("+(0,b.zw)(e.proceedingEntry.conference.date)+") ",1)]),(0,r._)("div",Se,[(0,r._)("div",De,(0,b.zw)(e.$tc("qfiab.fields.host",e.proceedingEntry.conference.hosts.length)),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.proceedingEntry.conference.hosts,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,b.zw)(e),1)))),128))])])]),(0,r._)("div",Ce,[(0,r._)("div",Ke,[(0,r._)("div",Ie,(0,b.zw)(e.$t("qfiab.fields.author")),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.proceedingEntry.authors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,b.zw)(e),1)))),128))])]),(0,r._)("div",ke,[(0,r._)("div",ze,(0,b.zw)(e.$t("qfiab.fields.typology")),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.proceedingEntry.typologies,((t,l)=>((0,r.wg)(),(0,r.iD)("div",{key:l},(0,b.zw)(e.$t(`qfiab.typology.${t}`)),1)))),128))])]),(0,r._)("div",$e,[(0,r._)("div",Qe,(0,b.zw)(e.$t("qfiab.fields.period")),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.proceedingEntry.periods,((t,l)=>((0,r.wg)(),(0,r.iD)("div",{key:l},(0,b.zw)(e.$t(`qfiab.period.${t}`)),1)))),128)),(0,r._)("div",null,(0,b.zw)(e.century),1)])])]),(0,r._)("div",Re,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.proceedingEntry.keywords,((t,l)=>((0,r.wg)(),(0,r.j4)(a,{key:l,onClick:l=>e.addKeyword(t)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(t.name),1)])),_:2},1032,["onClick"])))),128))])]})),_:1})])),_:1})}const He=(0,r.aZ)({name:"QfiabProceedingCard",components:{QCard:G.Z,QCardSection:X.Z},props:{proceedingEntry:{type:Object,required:!0}},setup(){const{addKeyword:e}=ae();return{addKeyword:e}},computed:{century(){if(void 0===this.proceedingEntry.centuryRange)return"";let e=this.proceedingEntry.centuryRange.start.toString()+".";return this.proceedingEntry.centuryRange.start!==this.proceedingEntry.centuryRange.end&&(e+=`-${this.proceedingEntry.centuryRange.end}.`),e+=" "+this.$t("qfiab.fields.century"),e}}}),Ve=(0,de.Z)(He,[["render",Be]]),Ze=Ve;pe()(He,"components",{QCard:G.Z,QCardSection:X.Z,QChip:ve.Z});const Le={class:"row items-center justify-between"},Pe={class:"text-overline text-weight-light"},Fe={class:"row"},Ue={class:"text-overline text-grey text-uppercase"},Ye={class:"text-subtitle1"},Oe={key:0,class:"text-subtitle2"},We={class:"row"},je={class:"col-4"},Ne={class:"text-overline text-grey text-uppercase"},Me={class:"col-4"},Ge={class:"text-overline text-grey text-uppercase"};function Je(e,t,l,i,s,o){const a=(0,r.up)("q-card-section"),n=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(n,{flat:"",bordered:""},{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r._)("div",Le,[(0,r._)("div",Pe,(0,b.zw)(e.$t("qfiab.fields.volume"))+" "+(0,b.zw)(e.obituaryEntry.volume.number)+" ("+(0,b.zw)(e.obituaryEntry.volume.year)+"), "+(0,b.zw)(e.obituaryEntry.pageRange.start)+"-"+(0,b.zw)(e.obituaryEntry.pageRange.end),1)]),(0,r._)("div",Fe,[(0,r._)("div",null,[(0,r._)("div",Ue,(0,b.zw)(e.$t("qfiab.fields.obituaryFor")),1),(0,r._)("div",Ye,(0,b.zw)(e.obituaryEntry.title),1),e.obituaryEntry.alternativeTitle?((0,r.wg)(),(0,r.iD)("div",Oe,(0,b.zw)(e.obituaryEntry.alternativeTitle),1)):(0,r.kq)("",!0)])]),(0,r._)("div",We,[(0,r._)("div",je,[(0,r._)("div",Ne,(0,b.zw)(e.$t("qfiab.fields.author")),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.obituaryEntry.authors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,b.zw)(e),1)))),128))])]),(0,r._)("div",Me,[(0,r._)("div",Ge,(0,b.zw)(e.$t("qfiab.fields.typology")),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.obituaryEntry.typologies,((t,l)=>((0,r.wg)(),(0,r.iD)("div",{key:l},(0,b.zw)(e.$t(`qfiab.typology.${t}`)),1)))),128))])])])])),_:1})])),_:1})}const Xe=(0,r.aZ)({name:"QfiabProceedingCard",components:{QCard:G.Z,QCardSection:X.Z},props:{obituaryEntry:{type:Object,required:!0}}}),et=(0,de.Z)(Xe,[["render",Je]]),tt=et;pe()(Xe,"components",{QCard:G.Z,QCardSection:X.Z});const lt={class:"q-gutter-md"},rt={class:"row"},it={class:"col-12"},st={class:"row"},ot={class:"col-12"},at={class:"row"},nt={class:"col-12"},dt={class:"row"},ct={class:"col-12"},ut={class:"row"},yt={class:"col-12"},vt={class:"row"},ft={class:"col-12"},pt={class:"row"},wt={class:"col-12"},gt={class:"row"},ht={class:"col-12"};function bt(e,t,l,i,s,o){const a=(0,r.up)("q-input"),n=(0,r.up)("q-select"),d=(0,r.up)("q-icon");return(0,r.wg)(),(0,r.iD)("div",lt,[(0,r._)("div",rt,[(0,r._)("div",it,[(0,r.Wm)(a,{modelValue:e.fullTextSearchQueryInput,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fullTextSearchQueryInput=t),label:e.$t("qfiab.filters.fullText"),clearable:"",onClear:t[1]||(t[1]=t=>e.fullTextSearchQuery="")},null,8,["modelValue","label"])])]),(0,r._)("div",st,[(0,r._)("div",ot,[(0,r.Wm)(n,{ref:"authorsSelect",modelValue:e.selectedAuthors,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedAuthors=t),autocomplete:"true",multiple:"","use-input":"","use-chips":"",clearable:"",options:e.filteredAuthors.length>0?e.filteredAuthors:e.authors,label:e.$t("qfiab.fields.author"),onClear:t[3]||(t[3]=t=>e.selectedAuthors=[]),onFilter:e.filterAuthorSelect,onAdd:e.clearAuthorsInput},null,8,["modelValue","options","label","onFilter","onAdd"])])]),(0,r._)("div",at,[(0,r._)("div",nt,[(0,r.Wm)(n,{modelValue:e.selectedTypologies,"onUpdate:modelValue":t[5]||(t[5]=t=>e.selectedTypologies=t),multiple:"","use-chips":"",options:e.availableTypologies,label:e.$t("qfiab.fields.typology"),"option-label":e.translateTypology},(0,r.Nv)({_:2},[e.selectedTypologies.length?{name:"append",fn:(0,r.w5)((()=>[(0,r.Wm)(d,{name:"cancel",class:"cursor-pointer",onClick:t[4]||(t[4]=(0,m.iM)((t=>e.selectedTypologies=[]),["stop"]))})]))}:void 0]),1032,["modelValue","options","label","option-label"])])]),(0,r._)("div",dt,[(0,r._)("div",ct,[(0,r.Wm)(n,{modelValue:e.selectedPeriods,"onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedPeriods=t),multiple:"","use-chips":"",options:e.availablePeriods,label:e.$t("qfiab.fields.period"),"option-label":e.translatePeriod,onClear:t[7]||(t[7]=t=>e.selectedPeriods=[])},null,8,["modelValue","options","label","option-label"])])]),(0,r._)("div",ut,[(0,r._)("div",yt,[(0,r.Wm)(n,{modelValue:e.selectedCenturies,"onUpdate:modelValue":t[8]||(t[8]=t=>e.selectedCenturies=t),multiple:"","use-chips":"",options:e.availableCenturies,label:e.$t("qfiab.fields.centuryFull"),onClear:t[9]||(t[9]=t=>e.selectedCenturies=[])},null,8,["modelValue","options","label"])])]),(0,r._)("div",vt,[(0,r._)("div",ft,[(0,r.Wm)(n,{ref:"keywordsDESelect",modelValue:e.selectedKeywordsDE,"onUpdate:modelValue":t[10]||(t[10]=t=>e.selectedKeywordsDE=t),multiple:"","use-chips":"","use-input":"",options:e.filteredKeywordsDE.length>0?e.filteredKeywordsDE:e.availableKeywordsDE,label:e.$t("qfiab.fields.keywords")+" (DE)","option-label":"name",onClear:t[11]||(t[11]=t=>e.selectedKeywordsDE=[]),onFilter:e.filterKeywordSelectDE,onAdd:e.clearKeywordsDEInput},null,8,["modelValue","options","label","onFilter","onAdd"])])]),(0,r._)("div",pt,[(0,r._)("div",wt,[(0,r.Wm)(n,{ref:"keywordsITSelect",modelValue:e.selectedKeywordsIT,"onUpdate:modelValue":t[12]||(t[12]=t=>e.selectedKeywordsIT=t),multiple:"","use-chips":"","use-input":"",options:e.filteredArchives.length>0?e.filteredKeywordsIT:e.availableKeywordsIT,label:e.$t("qfiab.fields.keywords")+" (IT)","option-label":"name",onClear:t[13]||(t[13]=t=>e.selectedKeywordsIT=[]),onFilter:e.filterKeywordSelectIT,onAdd:e.clearKeywordsITInput},null,8,["modelValue","options","label","onFilter","onAdd"])])]),(0,r._)("div",gt,[(0,r._)("div",ht,[(0,r.Wm)(n,{ref:"archiveSelect",modelValue:e.selectedArchives,"onUpdate:modelValue":t[14]||(t[14]=t=>e.selectedArchives=t),multiple:"","use-chips":"","use-input":"",options:e.filteredArchives.length>0?e.filteredArchives:e.availableArchives,label:e.$t("qfiab.fields.archive"),"option-label":"name",onClear:t[15]||(t[15]=t=>e.selectedArchives=[]),onFilter:e.filterArchiveSelect,onAdd:e.clearArchivesInput},null,8,["modelValue","options","label","onFilter","onAdd"])])])])}const mt=(0,u.iH)([]),xt=(0,u.iH)([]);function Et(){const{authors:e}=h(),t=(e,t)=>t.filter((t=>t.authors.some((t=>e.includes(t))))),l=(t,l)=>{l((()=>{const l=t.toLocaleLowerCase();mt.value=e.value.filter((e=>e.toLocaleLowerCase().indexOf(l)>-1))}))};return{filterByAuthor:t,filterAuthorSelect:l,selectedAuthors:xt,filteredAuthors:mt}}const _t=(0,u.iH)("");function qt(){const e=(e,t)=>t.filter((t=>JSON.stringify(t).toLowerCase().includes(e.toLowerCase())));return{fullTextSearchQuery:_t,filterFullText:e}}var Tt,At;(function(e){e["ARTIKEL"]="A",e["MISZELLE"]="M",e["THEMENSCHWERPUNKT"]="TS",e["FORUM"]="Fo",e["EDITORIAL"]="Ed",e["FORSCHUNGSBERICHT"]="Fb",e["REZENSION"]="R",e["TAGUNGSBERICHT"]="T",e["NACHRUF"]="N"})(Tt||(Tt={})),function(e){e["MIDDLE_AGES"]="1",e["EARLY_MODERN_AGE"]="2",e["MODERN_AGE"]="3",e["CONTEMPORARY"]="4",e["MULTIPLE_PERIODS"]="Z",e["MUSICOLOGY"]="M",e["CLASSICAL_HISTORY"]="A"}(At||(At={}));const St=(0,u.iH)([]),Dt=(0,u.iH)(Object.values(Tt));function Ct(){const e=(e,t)=>t.filter((t=>t.typologies.some((t=>e.includes(t)))));return{selectedTypologies:St,availableTypologies:Dt,filterByTypology:e}}const Kt=(0,u.iH)([]),It=(0,u.iH)(Object.values(At).map((e=>e.toString())));function kt(){const e=(e,t)=>t.filter((t=>void 0!==(null===t||void 0===t?void 0:t.periods)&&(t.periods.some((t=>e.includes(t)))||!1)));return{selectedPeriods:Kt,availablePeriods:It,filterByPeriod:e}}var zt=l(9405);const $t=(0,u.iH)([]),Qt=(0,u.iH)([]);function Rt(){const e=(e,t)=>t.filter((t=>{let l=!1;return e.forEach((e=>{void 0!==t.centuryRange&&e>=(null===t||void 0===t?void 0:t.centuryRange.start)&&e<=t.centuryRange.end&&(l=!0)})),l}));return{selectedCenturies:$t,availableCenturies:Qt,filterByCentury:e}}const Bt=(0,u.iH)([]),Ht=(0,u.iH)([]);function Vt(){const{availableArchives:e}=h(),t=(e,t)=>t.filter((t=>{if("index"!==t.type)return!1;let l=!1;return t.sourceDetails.forEach((t=>{var r;null===(r=t.archivalDetails)||void 0===r||r.archives.forEach((t=>{e.includes(t.name)&&(l=!0)}))})),l})),l=(t,l)=>{l((()=>{const l=t.toLocaleLowerCase();Bt.value=e.value.filter((e=>e.toLocaleLowerCase().indexOf(l)>-1))}))};return{filteredArchives:Bt,selectedArchives:Ht,filterByArchive:t,filterArchiveSelect:l}}const Zt=(0,r.aZ)({name:"QfiabFilters",setup(){const e=(0,u.iH)(""),{fullTextSearchQuery:t}=qt(),{selectedAuthors:l,filteredAuthors:r,filterAuthorSelect:i}=Et(),{selectedTypologies:s,availableTypologies:o}=Ct(),{selectedPeriods:a,availablePeriods:n}=kt(),{selectedKeywordsDE:d,selectedKeywordsIT:c,availableKeywordsDE:y,availableKeywordsIT:v,filteredKeywordsDE:f,filteredKeywordsIT:p,filterKeywordSelectDE:w,filterKeywordSelectIT:g}=ae(),{selectedCenturies:b,availableCenturies:m}=Rt(),{selectedArchives:x,filteredArchives:E,filterArchiveSelect:_}=Vt(),{authors:q,availableArchives:T}=h(),A=(0,u.iH)(),S=(0,u.iH)(),D=(0,u.iH)(),C=(0,u.iH)();return{fullTextSearchQueryInput:e,authors:q,availableArchives:T,availableTypologies:o,availablePeriods:n,availableKeywordsDE:y,availableKeywordsIT:v,filteredKeywordsDE:f,filteredKeywordsIT:p,availableCenturies:m,fullTextSearchQuery:t,selectedAuthors:l,selectedTypologies:s,selectedPeriods:a,selectedKeywordsDE:d,selectedKeywordsIT:c,selectedCenturies:b,selectedArchives:x,filteredAuthors:r,filteredArchives:E,filterAuthorSelect:i,filterKeywordSelectDE:w,filterKeywordSelectIT:g,filterArchiveSelect:_,authorsSelect:A,keywordsDESelect:S,keywordsITSelect:D,archiveSelect:C}},watch:{fullTextSearchQueryInput:function(){this.debounceUpdateFullTextSearchQuery()}},created(){this.debounceUpdateFullTextSearchQuery=(0,zt.Z)(this.updateFullTextSearchQuery,500)},methods:{translateTypology(e){return this.$t(`qfiab.typology.${e}`)},translatePeriod(e){return this.$t(`qfiab.period.${e}`)},updateFullTextSearchQuery(){var e;this.fullTextSearchQuery=null!==(e=this.fullTextSearchQueryInput)&&void 0!==e?e:""},debounceUpdateFullTextSearchQuery(){},clearAuthorsInput(){var e;null===(e=this.authorsSelect)||void 0===e||e.updateInputValue("")},clearKeywordsDEInput(){var e;null===(e=this.keywordsDESelect)||void 0===e||e.updateInputValue("")},clearKeywordsITInput(){var e;null===(e=this.keywordsITSelect)||void 0===e||e.updateInputValue("")},clearArchivesInput(){var e;null===(e=this.archiveSelect)||void 0===e||e.updateInputValue("")}}});var Lt=l(4842),Pt=l(9979),Ft=l(4554);const Ut=(0,de.Z)(Zt,[["render",bt]]),Yt=Ut;pe()(Zt,"components",{QInput:Lt.Z,QSelect:Pt.Z,QIcon:Ft.Z});const Ot="century",Wt="volumeYear",jt=[Ot,Wt],Nt=(0,u.iH)(Wt),Mt=(0,u.iH)(!0),Gt=e=>e.sort(((e,t)=>e.volume.year>t.volume.year?Mt.value?1:-1:e.volume.year<t.volume.year?Mt.value?-1:1:e.volume.number>t.volume.number?Mt.value?1:-1:t.volume.number>t.volume.number?Mt.value?-1:1:0)),Jt=e=>e.sort(((e,t)=>void 0===e.centuryRange&&void 0===t.centuryRange?0:void 0===e.centuryRange?Mt.value?1:-1:void 0===t.centuryRange?Mt.value?-1:1:e.centuryRange.start>t.centuryRange.start?Mt.value?1:-1:e.centuryRange.start<t.centuryRange.start?Mt.value?-1:1:0));function Xt(){return{selectedSortBy:Nt,availableSortBy:jt,sortAscending:Mt,sortByVolumeYear:Gt,sortByCentury:Jt}}const el=(0,r.aZ)({name:"PageIndex",components:{QfiabFilters:Yt,QfiabIndexCard:ge,QfiabProceedingCard:Ze,QfiabObituaryCard:tt},setup:function(){const{qfiabEntries:e,authors:t,availableArchives:l,fetchQfiabEntries:r,getAuthors:i,getKeywords:s,getCenturies:o,getArchives:a}=h();e.value=[],t.value=[];const{fullTextSearchQuery:n,filterFullText:d}=qt(),{selectedAuthors:c,filterByAuthor:u}=Et(),{selectedTypologies:y,filterByTypology:v}=Ct(),{selectedPeriods:f,filterByPeriod:p}=kt(),{selectedKeywordsDE:w,selectedKeywordsIT:g,availableKeywordsDE:b,availableKeywordsIT:m,filterByKeyword:x}=ae(),{selectedCenturies:E,availableCenturies:_,filterByCentury:q}=Rt(),{selectedArchives:T,filterByArchive:A}=Vt();r().then((r=>{e.value=r,t.value=i(r),l.value=a(r),b.value=s("de",r),m.value=s("it",r),_.value=o(r)})).catch((()=>console.error("bye")));const{availableSortBy:S,selectedSortBy:D,sortAscending:C,sortByVolumeYear:K,sortByCentury:I}=Xt();return{qfiabEntries:e,authors:t,availableArchives:l,fullTextSearchQuery:n,selectedAuthors:c,selectedTypologies:y,selectedPeriods:f,selectedKeywordsDE:w,selectedKeywordsIT:g,selectedCenturies:E,selectedArchives:T,selectedSortBy:D,availableSortBy:S,sortAscending:C,filterFullText:d,filterByAuthor:u,filterByTypology:v,filterByPeriod:p,filterByKeyword:x,filterByCentury:q,filterByArchive:A,sortByVolumeYear:K,sortByCentury:I}},data(){return{selectedLanguage:this.$i18n.locale}},computed:{availableLocales(){return[{iso:"de",label:"Deutsch"},{iso:"it",label:"Italiano"}]},qfiabIndexColumns(){return[{name:"title",label:this.$t("qfiab.fields.title"),field:e=>e.title,align:"left"}]},filteredRows(){let e=this.qfiabEntries;return this.fullTextSearchQuery.length&&(e=this.filterFullText(this.fullTextSearchQuery,this.qfiabEntries)),this.selectedAuthors.length&&(e=this.filterByAuthor(this.selectedAuthors,e)),this.selectedTypologies.length&&(e=this.filterByTypology(this.selectedTypologies,e)),this.selectedPeriods.length&&(e=this.filterByPeriod(this.selectedPeriods,e)),this.selectedKeywordsDE.length&&(e=this.filterByKeyword(this.selectedKeywordsDE,e)),this.selectedKeywordsIT.length&&(e=this.filterByKeyword(this.selectedKeywordsIT,e)),this.selectedCenturies.length&&(e=this.filterByCentury(this.selectedCenturies,e)),this.selectedArchives.length&&(e=this.filterByArchive(this.selectedArchives,e)),"volumeYear"===this.selectedSortBy&&(e=this.sortByVolumeYear(e)),"century"===this.selectedSortBy&&(e=this.sortByCentury(e)),e}}});var tl=l(4379),ll=l(6429),rl=l(1420);const il=(0,de.Z)(el,[["render",c]]),sl=il;pe()(el,"components",{QPage:tl.Z,QTable:ll.Z,QSelect:Pt.Z,QCheckbox:rl.Z})}}]);